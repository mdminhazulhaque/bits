<!DOCTYPE html> <html lang="en-us"> <head> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"> <meta name="theme-color" content="#000000"> <meta name="msapplication-navbutton-color" content="#000000"> <meta name="apple-mobile-web-app-status-bar-style" content="#000000"> <meta name="description" content="Fish has become my favorite shell for the last several months. Most lovely features of it are - auto-complete, auto- capitalization and colorful text. I ..."> <meta name="author" content="Md. Minhazul Haque"> <script type="application/ld+json">{ "@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [ { "@type": "ListItem", "position": 1, "name": "Bits", "item": "https://bits.mdminhazulhaque.io/" },{ "@type": "ListItem", "position": 2, "name": "linux", "item": "https://bits.mdminhazulhaque.io/linux" },{ "@type": "ListItem", "position": 3, "name": "Create custom functions for Fish", "item": "https://bits.mdminhazulhaque.io//linux/create-custom-functions-for-fish.html" }] }</script> <title>Create custom functions for Fish | Bits</title> <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap" rel="stylesheet"> <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> <link rel="stylesheet" href="/public/css/poole.css"> <link rel="stylesheet" href="/public/css/hyde.css"> <link rel="stylesheet" href="/public/css/print.css"> <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon.png"> <link rel="icon" type="image/x-icon" href="/public/favicon.ico?v=1"> <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml"> <style>.blink{animation:blink 1s infinite;}@keyframes blink{to{opacity:.0}}</style> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> </head> <body> <div class="sidebar"> <div class="container sidebar-sticky"> <div class="sidebar-about"> <h1> <a class="monospace" href="/"> Bits<span class="blink">_</span> </a> </h1> <p class="lead">Random posts written by <a href="https://mdminhazulhaque.io">Minhaz</a></p> <p>Find me at ... <br><a href="https://github.com/mdminhazulhaque"><i class="fa fa-fw fa-github"></i> Github</a> <br><a href="https://bd.linkedin.com/in/mdminhazulhaque"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a> </p> </div> <p>&copy; 2012 - 2021. All rights reserved.</p> </div> </div> <div class="content container"> <div class="post"> <h1 class="post-title">Create custom functions for Fish</h1> <hr> <i class="fa fa-fw fa-calendar"></i>03 Jan 2015 <i class="fa fa-fw fa-tag"></i><a href="/linux">linux</a> <hr> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9642838276352812" data-ad-slot="2958174403" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> <br> <p><a href="http://ridiculousfish.com/shell/">Fish</a> has become my favorite shell for the last several months. Most lovely features of it are - auto-complete, auto- capitalization and colorful text. I use fish shell as my default shell with <a href="http://konsole.kde.org/">Konsole</a> on my KDE 4.10 desktop.</p> <p>Creating functions and aliases for bash was easy (adding them to <strong>.bashrc</strong> or <strong>.bash_profile</strong>). But fish has a bit different interpretor. It stores functions as a copy of mostly used and common commands to provide arguments suggestion. Default fish functions are stored at <code class="language-plaintext highlighter-rouge">/usr/share/fish/functions</code>.</p> <p>Well, I don’t want to interfere with their read-only territory. Instead I would create custom functions in my home folder. Configuration path of fish in my home is <code class="language-plaintext highlighter-rouge">/home/me/.config/fish/functions</code>.</p> <p>I wanted to use a function that will execute <a href="http://aria2.sourceforge.net/">aria2c</a> with my favorite arguments (-x 8 -c link). I also wanted to shorten the name to a 2/3 digit alias. To make it done do the following -</p> <ul> <li>Choose name of my cherished alias. Make sure that it does not match any other alias or command name.I chose ‘dl’ which is a short form of download.</li> <li>Create a file called dl.fish in /home/you/.config/fish/functions</li> <li>Open the file in text editor, Kate worked fine for me. Hit nano if you hate GUI.</li> <li>Inside that file, paste the following text.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function </span>dl <span class="nt">--description</span> <span class="s2">"Parallel and resumable download with aria2c"</span>
    aria2c <span class="nt">-c</span> <span class="nt">-x</span> 4 <span class="nv">$argv</span><span class="o">[</span>1]
end
</code></pre></div></div> <ul> <li>The syntax is very simple. Write the function name, add some description and pass arguments of the function in c-style (argv[1] = first argument), not in bash-way ($1 = first argument).</li> <li>Save it, and restart fish.</li> <li>Now hit any link like the following.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dl http://google.com
</code></pre></div></div> <ul> <li>If you see aria2c is working, be assured that you have created a custom fish function.</li> </ul> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>you@yourpc ~&gt; dl http://google.com
<span class="o">[</span><span class="c">#1 SIZE:0B/0B CN:1 SPD:0Bs]                                                                 </span>
2013-03-19 04:40:31.054353 NOTICE - Download <span class="nb">complete</span>: /home/you/index.html

Download Results:
gid|stat|avg speed  |path/URI
<span class="o">===</span>+<span class="o">====</span>+<span class="o">===========</span>+<span class="o">===========================================================</span>
    1|  OK|   7.3KiB/s|/home/you/index.html

Status Legend:
    <span class="o">(</span>OK<span class="o">)</span>:download completed.
</code></pre></div></div> <p>Now go away and create more functions!</p> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9642838276352812" data-ad-slot="7351100586" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> <div id="disqus_thread"></div> <script type="text/javascript"> (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = 'https://bitsfromminhaz.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript> </div> </div> </body> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-57632461-7"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-57632461-7'); </script> </html>
